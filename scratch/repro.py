import cotengra as ctg
import faulthandler

faulthandler.enable()

# fmt: off
inputs = [('i0', 'i1'), ('i2', 'i3', 'i4'), ('i5', 'i6', 'i7'), ('i8', 'i9', 'i10'), ('i11', 'i12', 'i13'), ('i14', 'i15', 'i16'), ('i17', 'i18', 'i19'), ('i20', 'i21'), ('i22', 'i23', 'i2', 'i0'), ('i24', 'i25', 'i5', 'i3'), ('i26', 'i27', 'i8', 'i6'), ('i28', 'i29', 'i11', 'i9'), ('i30', 'i31', 'i14', 'i12'), ('i32', 'i33', 'i17', 'i15'), ('i34', 'i35', 'i20', 'i18'), ('i36', 'i22', 'i37'), ('i23', 'i38', 'i39', 'i24', 'i40'), ('i25', 'i41', 'i42', 'i26', 'i43'), ('i27', 'i44', 'i45', 'i28', 'i46'), ('i29', 'i47', 'i48', 'i30', 'i49'), ('i31', 'i50', 'i51', 'i32', 'i52'), ('i33', 'i53', 'i54', 'i34', 'i55'), ('i35', 'i56', 'i57'), ('i58', 'i59', 'i38', 'i36'), ('i60', 'i61', 'i41', 'i39'), ('i62', 'i63', 'i44', 'i42'), ('i64', 'i65', 'i47', 'i45'), ('i66', 'i67', 'i50', 'i48'), ('i68', 'i69', 'i53', 'i51'), ('i70', 'i71', 'i56', 'i54'), ('i72', 'i58', 'i73'), ('i59', 'i74', 'i75', 'i60', 'i76'), ('i61', 'i77', 'i78', 'i62', 'i79'), ('i63', 'i80', 'i81', 'i64', 'i82'), ('i65', 'i83', 'i84', 'i66', 'i85'), ('i67', 'i86', 'i87', 'i68', 'i88'), ('i69', 'i89', 'i90', 'i70', 'i91'), ('i71', 'i92', 'i93'), ('i94', 'i95', 'i74', 'i72'), ('i96', 'i97', 'i77', 'i75'), ('i98', 'i99', 'i80', 'i78'), ('i100', 'i101', 'i83', 'i81'), ('i102', 'i103', 'i86', 'i84'), ('i104', 'i105', 'i89', 'i87'), ('i106', 'i107', 'i92', 'i90'), ('i108', 'i94', 'i109'), ('i95', 'i110', 'i111', 'i96', 'i112'), ('i97', 'i113', 'i114', 'i98', 'i115'), ('i99', 'i116', 'i117', 'i100', 'i118'), ('i101', 'i119', 'i120', 'i102', 'i121'), ('i103', 'i122', 'i123', 'i104', 'i124'), ('i105', 'i125', 'i126', 'i106', 'i127'), ('i107', 'i128', 'i129'), ('i130', 'i131', 'i110', 'i108'), ('i132', 'i133', 'i113', 'i111'), ('i134', 'i135', 'i116', 'i114'), ('i136', 'i137', 'i119', 'i117'), ('i138', 'i139', 'i122', 'i120'), ('i140', 'i141', 'i125', 'i123'), ('i142', 'i143', 'i128', 'i126'), ('i144', 'i130', 'i145'), ('i131', 'i146', 'i147', 'i132', 'i148'), ('i133', 'i149', 'i150', 'i134', 'i151'), ('i135', 'i152', 'i153', 'i136', 'i154'), ('i137', 'i155', 'i156', 'i138', 'i157'), ('i139', 'i158', 'i159', 'i140', 'i160'), ('i141', 'i161', 'i162', 'i142', 'i163'), ('i143', 'i164', 'i165'), ('i166', 'i167', 'i146', 'i144'), ('i168', 'i169', 'i149', 'i147'), ('i170', 'i171', 'i152', 'i150'), ('i172', 'i173', 'i155', 'i153'), ('i174', 'i175', 'i158', 'i156'), ('i176', 'i177', 'i161', 'i159'), ('i178', 'i179', 'i164', 'i162'), ('i180', 'i166', 'i181'), ('i167', 'i182', 'i183', 'i168', 'i184'), ('i169', 'i185', 'i186', 'i170', 'i187'), ('i171', 'i188', 'i189', 'i172', 'i190'), ('i173', 'i191', 'i192', 'i174', 'i193'), ('i175', 'i194', 'i195', 'i176', 'i196'), ('i177', 'i197', 'i198', 'i178', 'i199'), ('i179', 'i200', 'i201'), ('i202', 'i203', 'i182', 'i180'), ('i204', 'i205', 'i185', 'i183'), ('i206', 'i207', 'i188', 'i186'), ('i208', 'i209', 'i191', 'i189'), ('i210', 'i211', 'i194', 'i192'), ('i212', 'i213', 'i197', 'i195'), ('i214', 'i215', 'i200', 'i198'), ('i216', 'i202', 'i217'), ('i203', 'i218', 'i219', 'i204', 'i220'), ('i205', 'i221', 'i222', 'i206', 'i223'), ('i207', 'i224', 'i225', 'i208', 'i226'), ('i209', 'i227', 'i228', 'i210', 'i229'), ('i211', 'i230', 'i231', 'i212', 'i232'), ('i213', 'i233', 'i234', 'i214', 'i235'), ('i215', 'i236', 'i237'), ('i238', 'i239', 'i218', 'i216'), ('i240', 'i241', 'i221', 'i219'), ('i242', 'i243', 'i224', 'i222'), ('i244', 'i245', 'i227', 'i225'), ('i246', 'i247', 'i230', 'i228'), ('i248', 'i249', 'i233', 'i231'), ('i250', 'i251', 'i236', 'i234'), ('i238', 'i252'), ('i239', 'i240', 'i253'), ('i241', 'i242', 'i254'), ('i243', 'i244', 'i255'), ('i245', 'i246', 'i256'), ('i247', 'i248', 'i257'), ('i249', 'i250', 'i258'), ('i251', 'i259')]
output = ('i1', 'i4', 'i7', 'i10', 'i13', 'i16', 'i19', 'i21', 'i37', 'i40', 'i43', 'i46', 'i49', 'i52', 'i55', 'i57', 'i73', 'i76', 'i79', 'i82', 'i85', 'i88', 'i91', 'i93', 'i109', 'i112', 'i115', 'i118', 'i121', 'i124', 'i127', 'i129', 'i145', 'i148', 'i151', 'i154', 'i157', 'i160', 'i163', 'i165', 'i181', 'i184', 'i187', 'i190', 'i193', 'i196', 'i199', 'i201', 'i217', 'i220', 'i223', 'i226', 'i229', 'i232', 'i235', 'i237', 'i252', 'i253', 'i254', 'i255', 'i256', 'i257', 'i258', 'i259')
size_dict = {'i0': 1, 'i1': 1, 'i2': 1, 'i3': 1, 'i4': 1, 'i5': 1, 'i6': 1, 'i7': 1, 'i8': 1, 'i9': 1, 'i10': 1, 'i11': 1, 'i12': 1, 'i13': 1, 'i14': 1, 'i15': 1, 'i16': 1, 'i17': 1, 'i18': 1, 'i19': 1, 'i20': 1, 'i21': 1, 'i22': 1, 'i23': 1, 'i24': 1, 'i25': 1, 'i26': 1, 'i27': 1, 'i28': 1, 'i29': 1, 'i30': 1, 'i31': 1, 'i32': 1, 'i33': 1, 'i34': 1, 'i35': 1, 'i36': 1, 'i37': 1, 'i38': 1, 'i39': 1, 'i40': 1, 'i41': 1, 'i42': 1, 'i43': 1, 'i44': 1, 'i45': 1, 'i46': 1, 'i47': 1, 'i48': 1, 'i49': 1, 'i50': 1, 'i51': 1, 'i52': 1, 'i53': 1, 'i54': 1, 'i55': 1, 'i56': 1, 'i57': 1, 'i58': 1, 'i59': 1, 'i60': 1, 'i61': 1, 'i62': 1, 'i63': 1, 'i64': 1, 'i65': 1, 'i66': 1, 'i67': 1, 'i68': 1, 'i69': 1, 'i70': 1, 'i71': 1, 'i72': 1, 'i73': 1, 'i74': 1, 'i75': 1, 'i76': 1, 'i77': 1, 'i78': 1, 'i79': 1, 'i80': 1, 'i81': 1, 'i82': 1, 'i83': 1, 'i84': 1, 'i85': 1, 'i86': 1, 'i87': 1, 'i88': 1, 'i89': 1, 'i90': 1, 'i91': 1, 'i92': 1, 'i93': 1, 'i94': 1, 'i95': 1, 'i96': 1, 'i97': 1, 'i98': 1, 'i99': 1, 'i100': 1, 'i101': 1, 'i102': 1, 'i103': 1, 'i104': 1, 'i105': 1, 'i106': 1, 'i107': 1, 'i108': 1, 'i109': 1, 'i110': 1, 'i111': 1, 'i112': 1, 'i113': 1, 'i114': 1, 'i115': 1, 'i116': 1, 'i117': 1, 'i118': 1, 'i119': 1, 'i120': 1, 'i121': 1, 'i122': 1, 'i123': 1, 'i124': 1, 'i125': 1, 'i126': 1, 'i127': 1, 'i128': 1, 'i129': 1, 'i130': 1, 'i131': 1, 'i132': 1, 'i133': 1, 'i134': 1, 'i135': 1, 'i136': 1, 'i137': 1, 'i138': 1, 'i139': 1, 'i140': 1, 'i141': 1, 'i142': 1, 'i143': 1, 'i144': 1, 'i145': 1, 'i146': 1, 'i147': 1, 'i148': 1, 'i149': 1, 'i150': 1, 'i151': 1, 'i152': 1, 'i153': 1, 'i154': 1, 'i155': 1, 'i156': 1, 'i157': 1, 'i158': 1, 'i159': 1, 'i160': 1, 'i161': 1, 'i162': 1, 'i163': 1, 'i164': 1, 'i165': 1, 'i166': 1, 'i167': 1, 'i168': 1, 'i169': 1, 'i170': 1, 'i171': 1, 'i172': 1, 'i173': 1, 'i174': 1, 'i175': 1, 'i176': 1, 'i177': 1, 'i178': 1, 'i179': 1, 'i180': 1, 'i181': 1, 'i182': 1, 'i183': 1, 'i184': 1, 'i185': 1, 'i186': 1, 'i187': 1, 'i188': 1, 'i189': 1, 'i190': 1, 'i191': 1, 'i192': 1, 'i193': 1, 'i194': 1, 'i195': 1, 'i196': 1, 'i197': 1, 'i198': 1, 'i199': 1, 'i200': 1, 'i201': 1, 'i202': 1, 'i203': 1, 'i204': 1, 'i205': 1, 'i206': 1, 'i207': 1, 'i208': 1, 'i209': 1, 'i210': 1, 'i211': 1, 'i212': 1, 'i213': 1, 'i214': 1, 'i215': 1, 'i216': 1, 'i217': 1, 'i218': 1, 'i219': 1, 'i220': 1, 'i221': 1, 'i222': 1, 'i223': 1, 'i224': 1, 'i225': 1, 'i226': 1, 'i227': 1, 'i228': 1, 'i229': 1, 'i230': 1, 'i231': 1, 'i232': 1, 'i233': 1, 'i234': 1, 'i235': 1, 'i236': 1, 'i237': 1, 'i238': 1, 'i239': 1, 'i240': 1, 'i241': 1, 'i242': 1, 'i243': 1, 'i244': 1, 'i245': 1, 'i246': 1, 'i247': 1, 'i248': 1, 'i249': 1, 'i250': 1, 'i251': 1, 'i252': 1, 'i253': 1, 'i254': 1, 'i255': 1, 'i256': 1, 'i257': 1, 'i258': 1, 'i259': 1}
# fmt: on

opt = ctg.HyperOptimizer(
    minimize="flops",
    reconf_opts={},
    parallel=False,
    progbar=True,
)

opt.search(inputs, output, size_dict)
